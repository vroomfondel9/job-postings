<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Job Postings</title>
<style>
body {
  background: #f2f2f7;
  font-family: "Segoe UI", Roboto, sans-serif;
  color: #222;
  margin: 0;
  padding: 2rem;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 1.5rem;
}

.card {
  background: #fff;
  width: 96%;
  border-radius: 16px;
  box-shadow: 0 4px 10px rgba(0,0,0,0.15);
  position: relative;
  overflow: hidden;
  padding: 1rem 1.5rem 2rem;
  display: flex;
  flex-direction: column;
  align-items: center;
  margin-bottom: 2%;
}

.card-actions {
  width: 100%;
  display: flex;
  justify-content: center; /* <-- now centered */
  gap: 1rem;
  margin-top: 1rem;
}

.card-actions .action-btn {
  padding: 0.3rem 0.8rem;
  border-radius: 20px;
  border: 1px solid #aaa;
  cursor: pointer;
  transition: background 0.2s;
  font-size: 0.85rem;
  background: green;
  color: white;
}

.card-actions .action-btn:hover {
  background: #006400;
}

#overlay-notes {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0,0,0,0.5);
  display: none;
  justify-content: center;
  align-items: center;
  z-index: 1000;
}

#overlay-notes .notes-box {
  background: #fff;
  padding: 1.5rem;
  border-radius: 12px;
  width: 400px;
  display: flex;
  flex-direction: column;
  gap: 1rem;
}

#overlay-notes textarea {
  width: 95%;
  height: 150px;
  padding: 0.5rem;
  font-size: 0.9rem;
}

#overlay-notes .notes-buttons {
  display: flex;
  justify-content: flex-end;
  gap: 1rem;
}


.top-section {
  position: relative;
  width: 100%;
  height: 80px;
}

.circle {
  width: 70px;
  height: 70px;
  border-radius: 50%;
  display: flex;
  justify-content: center;
  align-items: center;
  text-align: center;
  font-weight: 600;
  color: black;
  font-size: 0.9rem;
  position: absolute;
  top: 0;
}

.location-circle { left: 0; }
.match-circle { right: 0; }

.salary-ruler {
  position: absolute;
  top: 25px;
  left: 85px;
  right: 85px;
  height: 30px;
  border-top: 2px solid #999;
}

.salary-ruler::before, .salary-ruler::after {
  content: '';
  position: absolute;
  height: 2px;
  background: #333;
  top: 0;
}

.salary-ruler .mark {
  position: absolute;
  width: 1px;
  top: -5px;
  height: 10px;
  background: #aaa;
}

.salary-ruler .mark.major {
  height: 16px;
  background: #555;
}

.salary-ruler .label {
  position: absolute;
  top: 18px;
  transform: translateX(-50%);
  font-size: 10px;
  color: #333;
}

.salary-range {
  position: absolute;
  top: 0;
  height: 4px;
  background: linear-gradient(to right, rgba(255,0,0,0.4) 0 50%, rgba(0,200,0,0.4) 50% 100%);
  border-radius: 2px;
}

.middle-section {
  display: grid;
  grid-template-columns: 96px 1fr 96px;
  align-items: center;
  margin-top: 1rem;
  margin-bottom: 1rem;
  width: 100%;
}

.center-info {
  text-align: center;
  display: flex;
  flex-direction: column;
  justify-content: center;
  gap: 0.2rem;
}

.center-info div {
  font-size: 1rem;
  font-weight: 500;
}

.language-header {
  position: absolute;
  top: -1.2rem;  /* slightly above the top ruler */
  font-weight: 700;
  font-size: 0.85rem;
  color: #000;
  width: 100%;
  text-align: center;
}

.language-ruler.left .language-header {
  left: 0;   /* aligns to the left column edge */
}

.language-ruler.right .language-header {
  right: 0;  /* aligns to the right column edge */
}


.language-ruler {
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  height: 140px;
  position: relative;
  font-size: 0.8rem;
  color: #000;
}

.language-ruler.left {
  align-items: flex-start;
  text-align: left;
}

.language-ruler.right {
  align-items: flex-end;
  text-align: right;
}

.language-ruler .label {
  position: relative;
  width: 100%;
}

.language-ruler.left::before, .language-ruler.right::before {
  content: '';
  position: absolute;
  top: 0; bottom: 0;
  width: 1px;
  background: #aaa;
}

.language-ruler.left::before { right: 0; }
.language-ruler.right::before { left: 0; }

.language-ruler .label::after {
  content: '';
  position: absolute;
  top: 50%;
  width: 6px;
  height: 1px;
  background: #aaa;
}

.language-ruler.left .label::after { right: -6px; }
.language-ruler.right .label::after { left: -6px; }

.triangle {
  width: 0;
  height: 0;
  position: absolute;
  border-top: 6px solid transparent;
  border-bottom: 6px solid transparent;
}

.language-ruler.left .triangle {
  border-left: 8px solid transparent;
  border-right: 8px solid green;
  right: -9px;
}

.language-ruler.right .triangle {
  border-right: 8px solid transparent;
  border-left: 8px solid green;
  left: -9px;
}

.bottom-techs {
  width: 80%;
  display: flex;
  justify-content: center;
  flex-wrap: wrap;
  font-size: 0.85rem;
  gap: 0.6rem;
  margin-top: 1rem;
  margin-left: 10%;
}

.tech {
  font-weight: 600;
}

.accordion {
  width: 100%;
  max-width: 900px;  /* choose width that fits your cards */
  border-radius: 12px;
  overflow: hidden;
  background: #fff;
  box-shadow: 0 2px 6px rgba(0,0,0,0.1);
  margin: 0 auto;
}


.accordion-header {
  padding: 1rem;
  font-weight: 600;
  background: #e0e0e5;
  cursor: pointer;
}

.accordion-content {
  padding: 1rem 0;
  display: none;
}

.accordion-section {
  width: 800px;
  background: #fff;
  border-radius: 12px;
  box-shadow: 0 4px 10px rgba(0,0,0,0.1);
  overflow: hidden;
}

.accordion-header {
  padding: 1rem;
  font-size: 1.2rem;
  font-weight: 600;
  cursor: pointer;
  background: #e5e5ea;
}

.accordion-content {
  padding: 1rem;
  display: none;
}

.accordion-section {
  width: 100%;
  max-width: 900px; /* or whatever width matches your card layout */
  margin: 0 auto;   /* center it */
}

.accordion-content {
  width: 100%;
}

.card {
  box-sizing: border-box;
}

.accordion-header {
  width: 100%;
  box-sizing: border-box;
}

.bottom-section {
  position: relative;
  width: 100%;
  height: 80px; /* adjust height as needed */
  display: flex;
  justify-content: space-between; /* or center items */
  align-items: center;
  gap: 1rem;
}


.age-circle {
  position: absolute; 
  left: 0; 
  top: 50%;
  transform: translateY(-50%);
}







</style>
</head>
<body>
<h1 style="margin:0;">Job Listings</h1>
<h3 id="timestamp-subheading" style="margin-top:-0.5rem; font-weight:400; color:#444;">
  as of ...
</h3>

<div class="accordion">
  <div class="accordion-header" data-target="section-ready">
    Ready For Review
  </div>
  <div class="accordion-content" id="section-ready" style="display: block;"></div>
</div>

<div class="accordion">
  <div class="accordion-header" data-target="section-waiting">
    Waiting
  </div>
  <div class="accordion-content" id="section-waiting" style="display: none;"></div>
</div>

<div class="accordion">
  <div class="accordion-header" data-target="section-dismissed">
    Dismissed
  </div>
  <div class="accordion-content" id="section-dismissed" style="display: none;"></div>
</div>


<div id="overlay-notes">
  <div class="notes-box">
    <textarea id="notes-textarea"></textarea>
    <div class="notes-buttons">
      <button id="save-note">Save</button>
      <button id="cancel-note">Cancel</button>
    </div>
  </div>
</div>
<script>
const generationTimestamp = new Date("2025-12-18T02:40:25.268Z"); //Replace this line with Generation Date
const jobPostings = [
  {
    "id": 1,
    "llm_match_percent": 15,
    "llm_short_title": "Mobile App Developer",
    "llm_short_duty": "Building iOS/Android health apps",
    "llm_short_company_type": "FemTech",
    "llm_remote_percentage": 90,
    "remote_partial": false,
    "remote_full": true,
    "location": "Tokyo",
    "source_details_url": "https://japan-dev.com/jobs/ystory/ystory-iosandroid-app-development-engineer-areddr",
    "source": "Japan Dev",
    "language_en": "Conversational",
    "language_jp": "Conversational",
    "salary_max": 9000000,
    "salary_min": 6000000,
    "createdAt": "\"2025-12-17T22:30:32.610Z\"",
    "posting_createdAt": "\"2025-12-17T13:32:37.000Z\"",
    "updatedAt": "\"2025-12-18T02:35:26.944Z\"",
    "posting_updatedAt": "\"2025-12-17T19:40:58.000Z\"",
    "ignored": null,
    "blocked": null,
    "user_notes": null,
    "llm_techs_used": {
      "Swift": 0,
      "Kotlin": 0,
      "Firebase": 0
    }
  },
  {
    "id": 2,
    "llm_match_percent": 6,
    "llm_short_title": "Senior UX/UI Designer",
    "llm_short_duty": "designing and implementing exceptional user interfaces",
    "llm_short_company_type": "HR Tech",
    "llm_remote_percentage": 100,
    "remote_partial": false,
    "remote_full": true,
    "location": "Remote",
    "source_details_url": "https://japan-dev.com/jobs/givery/givery-hr-tech-senior-uxui-designer-k8193n",
    "source": "Japan Dev",
    "language_en": "Business",
    "language_jp": "None",
    "salary_max": 8400000,
    "salary_min": 6000000,
    "createdAt": "\"2025-12-17T22:30:32.610Z\"",
    "posting_createdAt": "\"2025-12-12T09:09:55.000Z\"",
    "updatedAt": "\"2025-12-18T02:35:26.984Z\"",
    "posting_updatedAt": "\"2025-12-18T00:54:02.000Z\"",
    "ignored": null,
    "blocked": null,
    "user_notes": null,
    "llm_techs_used": {
      "Figma": 0
    }
  },
  {
    "id": 3,
    "llm_match_percent": 60,
    "llm_short_title": "Full-stack Lead",
    "llm_short_duty": "Developing enterprise SaaS features",
    "llm_short_company_type": "Marketing-tech startup",
    "llm_remote_percentage": 80,
    "remote_partial": true,
    "remote_full": false,
    "location": "Osaka",
    "source_details_url": "https://japan-dev.com/jobs/micoworks/mico-full-stack-leadtenant-team-hbum7z",
    "source": "Japan Dev",
    "language_en": "Business",
    "language_jp": "Conversational",
    "salary_max": 10000000,
    "salary_min": 7000000,
    "createdAt": "\"2025-12-17T22:30:32.610Z\"",
    "posting_createdAt": "\"2025-12-11T10:21:31.000Z\"",
    "updatedAt": "\"2025-12-18T02:35:27.023Z\"",
    "posting_updatedAt": "\"2025-12-17T02:50:28.000Z\"",
    "ignored": null,
    "blocked": null,
    "user_notes": null,
    "llm_techs_used": {
      "TypeScript": 0,
      "React": 0,
      "Next.js": 0,
      "TiDB": 0,
      "Aurora MySQL": 0,
      "DynamoDB": 0,
      "Redis MemoryDB": 0,
      "AWS": 0,
      "Terraform": 0,
      "AWS CDK": 0,
      "Nginx": 0,
      "Docker": 2,
      "GitHub Actions": 0,
      "Git": 4,
      "MySQL": 2
    }
  },
  {
    "id": 4,
    "llm_match_percent": 65,
    "llm_short_title": "Senior Full-Stack Engineer",
    "llm_short_duty": "building B2B SaaS web apps for manufacturing",
    "llm_short_company_type": "Manufacturing AI platform",
    "llm_remote_percentage": 0,
    "remote_partial": false,
    "remote_full": true,
    "location": "Tokyo",
    "source_details_url": "https://japan-dev.com/jobs/caddi/caddi-senior-software-engineer-backend---english-i6b8nk",
    "source": "Japan Dev",
    "language_en": "Business",
    "language_jp": "None",
    "salary_max": 12000000,
    "salary_min": 8500000,
    "createdAt": "\"2025-12-17T22:30:32.610Z\"",
    "posting_createdAt": "\"2025-12-10T09:55:17.000Z\"",
    "updatedAt": "\"2025-12-18T02:35:27.060Z\"",
    "posting_updatedAt": "\"2025-12-18T00:31:15.000Z\"",
    "ignored": null,
    "blocked": null,
    "user_notes": null,
    "llm_techs_used": {
      "TypeScript": 0,
      "React": 0,
      "Node.js": 0,
      "Docker": 2,
      "Kubernetes": 0,
      "Google Cloud": 0,
      "GraphQL": 0,
      "REST": 3,
      "PostgreSQL": 0,
      "Git": 4,
      "JIRA": 4,
      "Confluence": 4
    }
  },
  {
    "id": 5,
    "llm_match_percent": 45,
    "llm_short_title": "Engineering Manager",
    "llm_short_duty": "managing platform services teams",
    "llm_short_company_type": "Manufacturing SaaS",
    "llm_remote_percentage": 40,
    "remote_partial": false,
    "remote_full": true,
    "location": "Tokyo",
    "source_details_url": "https://japan-dev.com/jobs/caddi/caddi-engineering-manager-id5a0w",
    "source": "Japan Dev",
    "language_en": "Business",
    "language_jp": "Conversational",
    "salary_max": 14000000,
    "salary_min": 10000000,
    "createdAt": "\"2025-12-17T22:30:32.610Z\"",
    "posting_createdAt": "\"2025-12-04T09:15:01.000Z\"",
    "updatedAt": "\"2025-12-18T02:35:27.099Z\"",
    "posting_updatedAt": "\"2025-12-17T12:01:17.000Z\"",
    "ignored": null,
    "blocked": null,
    "user_notes": null,
    "llm_techs_used": {
      "Python": 1,
      "Rust": 0,
      "React": 0,
      "TypeScript": 0,
      "Kubernetes": 0,
      "PostgreSQL": 0,
      "gRPC": 0,
      "GraphQL": 0
    }
  },
  {
    "id": 6,
    "llm_match_percent": 65,
    "llm_short_title": "Backend Engineer",
    "llm_short_duty": "Building Scala-based microservices for a skill-evaluation platform",
    "llm_short_company_type": "HR Tech",
    "llm_remote_percentage": 100,
    "remote_partial": false,
    "remote_full": true,
    "location": "Remote",
    "source_details_url": "https://japan-dev.com/jobs/givery/givery-backend-engineer-scala-nruzwd",
    "source": "Japan Dev",
    "language_en": "Business",
    "language_jp": "None",
    "salary_max": 9500000,
    "salary_min": 6000000,
    "createdAt": "\"2025-12-17T22:30:32.610Z\"",
    "posting_createdAt": "\"2025-12-03T12:29:43.000Z\"",
    "updatedAt": "\"2025-12-18T02:35:27.139Z\"",
    "posting_updatedAt": "\"2025-12-17T10:49:24.000Z\"",
    "ignored": null,
    "blocked": null,
    "user_notes": null,
    "llm_techs_used": {
      "Scala": 0,
      "PostgreSQL": 2,
      "AWS": 2,
      "Docker": 2,
      "React": 1,
      "Redis": 0,
      "Terraform": 0
    }
  },
  {
    "id": 61,
    "llm_match_percent": 10,
    "llm_short_title": "Senior Product Manager",
    "llm_short_duty": "managing software test automation products",
    "llm_short_company_type": "AI software testing startup",
    "llm_remote_percentage": 0,
    "remote_partial": false,
    "remote_full": true,
    "location": "Tokyo",
    "source_details_url": "https://japan-dev.com/jobs/autify/autify-senior-product-manager---er38s8",
    "source": "Japan Dev",
    "language_en": "Business",
    "language_jp": "Business",
    "salary_max": 15000000,
    "salary_min": 8000000,
    "createdAt": "\"2025-12-17T22:30:37.782Z\"",
    "posting_createdAt": "\"2025-10-17T17:23:23.000Z\"",
    "updatedAt": "\"2025-12-18T02:35:27.181Z\"",
    "posting_updatedAt": "\"2025-12-16T05:13:45.000Z\"",
    "ignored": null,
    "blocked": null,
    "user_notes": null,
    "llm_techs_used": {}
  },
  {
    "id": 121,
    "llm_match_percent": 25,
    "llm_short_title": "Ruby on Rails Engineer",
    "llm_short_duty": "Building web applications with Ruby on Rails",
    "llm_short_company_type": "Business & IT Consulting",
    "llm_remote_percentage": 100,
    "remote_partial": false,
    "remote_full": true,
    "location": "Tokyo",
    "source_details_url": "https://japan-dev.com/jobs/scoville/scoville-experienced-ruby-on-rails-engineer-1h808e",
    "source": "Japan Dev",
    "language_en": "Business",
    "language_jp": "Business",
    "salary_max": 13000000,
    "salary_min": 9000000,
    "createdAt": "\"2025-12-17T22:30:43.118Z\"",
    "posting_createdAt": "\"2025-10-07T11:13:57.000Z\"",
    "updatedAt": "\"2025-12-18T02:35:27.225Z\"",
    "posting_updatedAt": "\"2025-12-14T06:21:14.000Z\"",
    "ignored": null,
    "blocked": null,
    "user_notes": null,
    "llm_techs_used": {
      "Ruby on Rails": 0,
      "Ruby": 0,
      "JavaScript": 2,
      "TypeScript": 0,
      "HTML": 4,
      "CSS": 2,
      "Docker": 2,
      "AWS": 0
    }
  },
  {
    "id": 122,
    "llm_match_percent": 0,
    "llm_short_title": "Product Designer",
    "llm_short_duty": "UX/UI design for AI products",
    "llm_short_company_type": "Business creation / AI solutions",
    "llm_remote_percentage": 50,
    "remote_partial": false,
    "remote_full": true,
    "location": "Tokyo",
    "source_details_url": "https://japan-dev.com/jobs/scoville/scoville-experienced-product-designer-ai-lufdw5",
    "source": "Japan Dev",
    "language_en": "Business",
    "language_jp": "Business",
    "salary_max": 12000000,
    "salary_min": 8000000,
    "createdAt": "\"2025-12-17T22:30:43.118Z\"",
    "posting_createdAt": "\"2025-10-07T11:13:30.000Z\"",
    "updatedAt": "\"2025-12-18T02:35:27.255Z\"",
    "posting_updatedAt": "\"2025-12-15T07:04:49.000Z\"",
    "ignored": null,
    "blocked": null,
    "user_notes": null,
    "llm_techs_used": {
      "Figma": 0,
      "Sketch": 0,
      "Adobe XD": 0
    }
  },
  {
    "id": 123,
    "llm_match_percent": 47,
    "llm_short_title": "Rails Engineer",
    "llm_short_duty": "developing web services for real estate clients",
    "llm_short_company_type": "Real-estate SaaS",
    "llm_remote_percentage": 100,
    "remote_partial": false,
    "remote_full": true,
    "location": "Remote",
    "source_details_url": "https://japan-dev.com/jobs/spacely/spacely-rails-engineer-1dc4i4",
    "source": "Japan Dev",
    "language_en": "Conversational",
    "language_jp": "Business",
    "salary_max": 10000000,
    "salary_min": 6000000,
    "createdAt": "\"2025-12-17T22:30:43.118Z\"",
    "posting_createdAt": "\"2025-09-26T12:09:41.000Z\"",
    "updatedAt": "\"2025-12-18T02:35:27.283Z\"",
    "posting_updatedAt": "\"2025-12-15T07:15:00.000Z\"",
    "ignored": null,
    "blocked": null,
    "user_notes": null,
    "llm_techs_used": {
      "Ruby": 0,
      "Ruby on Rails": 0,
      "JavaScript": 3,
      "HTML": 4,
      "CSS": 3,
      "React.js": 0,
      "Vue.js": 0,
      "MySQL": 2,
      "PostgreSQL": 0,
      "AWS": 0,
      "RSpec": 0
    }
  },
  {
    "id": 124,
    "llm_match_percent": 42,
    "llm_short_title": "R&D Manager",
    "llm_short_duty": "prototyping 3D/AI features for a spatial-data SaaS",
    "llm_short_company_type": "Real-estate VR",
    "llm_remote_percentage": 100,
    "remote_partial": false,
    "remote_full": true,
    "location": "Remote",
    "source_details_url": "https://japan-dev.com/jobs/spacely/spacely-rd-engineermanager-9jqqga",
    "source": "Japan Dev",
    "language_en": "Conversational",
    "language_jp": "Business",
    "salary_max": 12000000,
    "salary_min": 7500000,
    "createdAt": "\"2025-12-17T22:30:43.118Z\"",
    "posting_createdAt": "\"2025-09-18T11:01:52.000Z\"",
    "updatedAt": "\"2025-12-18T02:35:27.323Z\"",
    "posting_updatedAt": "\"2025-11-26T01:24:54.000Z\"",
    "ignored": null,
    "blocked": null,
    "user_notes": null,
    "llm_techs_used": {
      "Python": 1,
      "TypeScript": 0,
      "WebGL": 0,
      "ML": 1
    }
  },
  {
    "id": 125,
    "llm_match_percent": 27,
    "llm_short_title": "Full-stack Developer",
    "llm_short_duty": "Building AI-driven voice interfaces",
    "llm_short_company_type": "AI Startup",
    "llm_remote_percentage": 100,
    "remote_partial": false,
    "remote_full": true,
    "location": "Remote",
    "source_details_url": "https://japan-dev.com/jobs/alenx/alenx-founding-engineer-cto-candidate-vibzd3",
    "source": "Japan Dev",
    "language_en": "Business",
    "language_jp": "None",
    "salary_max": 25000000,
    "salary_min": 20000000,
    "createdAt": "\"2025-12-17T22:30:43.118Z\"",
    "posting_createdAt": "\"2025-09-12T13:21:23.000Z\"",
    "updatedAt": "\"2025-12-18T02:35:27.364Z\"",
    "posting_updatedAt": "\"2025-12-17T10:20:47.000Z\"",
    "ignored": null,
    "blocked": null,
    "user_notes": null,
    "llm_techs_used": {
      "TypeScript": 0,
      "React Router v7": 0,
      "Vite": 0,
      "Vitest": 0,
      "Playwright": 0,
      "pnpm": 0,
      "Cloudflare": 0,
      "Turso": 0
    }
  },
  {
    "id": 181,
    "llm_match_percent": 45,
    "llm_short_title": "Site Reliability Engineer",
    "llm_short_duty": "automating cloud infrastructure with Terraform",
    "llm_short_company_type": "HR-Tech",
    "llm_remote_percentage": 100,
    "remote_partial": false,
    "remote_full": true,
    "location": "Tokyo",
    "source_details_url": "https://japan-dev.com/jobs/givery/givery--site-reliability-engineer-6jsdyi",
    "source": "Japan Dev",
    "language_en": "None",
    "language_jp": "Business",
    "salary_max": 12000000,
    "salary_min": 8000000,
    "createdAt": "\"2025-12-17T22:30:50.827Z\"",
    "posting_createdAt": "\"2025-04-17T09:35:47.000Z\"",
    "updatedAt": "\"2025-12-18T02:35:27.392Z\"",
    "posting_updatedAt": "\"2025-09-22T03:10:13.000Z\"",
    "ignored": null,
    "blocked": null,
    "user_notes": null,
    "llm_techs_used": {
      "Terraform": 1,
      "Docker": 2,
      "AWS": 0
    }
  },
  {
    "id": 182,
    "llm_match_percent": 55,
    "llm_short_title": "Engineering Manager",
    "llm_short_duty": "Leading infrastructure and DevOps teams",
    "llm_short_company_type": "HRTech",
    "llm_remote_percentage": 100,
    "remote_partial": false,
    "remote_full": true,
    "location": "Tokyo",
    "source_details_url": "https://japan-dev.com/jobs/givery/givery-engineering-manager-infrastructure-9yk3ew",
    "source": "Japan Dev",
    "language_en": "None",
    "language_jp": "Business",
    "salary_max": 12000000,
    "salary_min": 8000000,
    "createdAt": "\"2025-12-17T22:30:50.827Z\"",
    "posting_createdAt": "\"2025-04-17T09:35:19.000Z\"",
    "updatedAt": "\"2025-12-18T02:35:27.421Z\"",
    "posting_updatedAt": "\"2025-05-27T02:49:21.000Z\"",
    "ignored": null,
    "blocked": null,
    "user_notes": null,
    "llm_techs_used": {
      "Terraform": 2,
      "Docker": 2,
      "AWS": 0,
      "Git": 4,
      "Jenkins": 4,
      "MySQL": 2
    }
  },
  {
    "id": 183,
    "llm_match_percent": 25,
    "llm_short_title": "QA Consultant",
    "llm_short_duty": "advising clients on test automation and quality issues",
    "llm_short_company_type": "AI software testing",
    "llm_remote_percentage": 100,
    "remote_partial": false,
    "remote_full": true,
    "location": "Remote",
    "source_details_url": "https://japan-dev.com/jobs/autify/autify-qa-consultant-kcplts",
    "source": "Japan Dev",
    "language_en": "Conversational",
    "language_jp": "Business",
    "salary_max": 10000000,
    "salary_min": 7000000,
    "createdAt": "\"2025-12-17T22:30:50.827Z\"",
    "posting_createdAt": "\"2024-05-01T18:45:18.000Z\"",
    "updatedAt": "\"2025-12-18T02:35:27.449Z\"",
    "posting_updatedAt": "\"2025-11-11T05:29:59.000Z\"",
    "ignored": null,
    "blocked": null,
    "user_notes": null,
    "llm_techs_used": {
      "Selenium": 1
    }
  },
  {
    "id": 245,
    "llm_match_percent": 65,
    "llm_short_title": "Data and generative AI project manager",
    "llm_short_duty": "Managing data/AI projects",
    "llm_short_company_type": "Major Japanese",
    "llm_remote_percentage": 100,
    "remote_partial": false,
    "remote_full": true,
    "location": "Tokyo",
    "source_details_url": "https://www.daijob.com/en/jobs/detail/1473670",
    "source": "Daijob",
    "language_en": "None",
    "language_jp": "Business",
    "salary_max": 10000000,
    "salary_min": 5500000,
    "createdAt": "\"2025-12-17T22:30:54.728Z\"",
    "posting_createdAt": "\"2025-12-16T00:00:00.000Z\"",
    "updatedAt": "\"2025-12-18T02:35:27.476Z\"",
    "posting_updatedAt": "\"2025-12-16T00:00:00.000Z\"",
    "ignored": null,
    "blocked": null,
    "user_notes": null,
    "llm_techs_used": {
      "Python": 1,
      "JavaScript": 0,
      "TypeScript": 0,
      "SQL": 0,
      "Terraform": 0,
      "Cloudformation": 0,
      "Oracle": 2,
      "PostgreSQL": 0,
      "MySQL": 2,
      "Redshift": 0,
      "BigQuery": 0,
      "Azure Databricks": 0,
      "AWS": 0,
      "Google Cloud": 0,
      "Azure": 0,
      "GitHub": 0,
      "GitLab": 0,
      "CodePipeline": 0,
      "Slack": 0,
      "Teams": 0,
      "Docker": 2,
      "Git": 4
    }
  },
  {
    "id": 247,
    "llm_match_percent": 45,
    "llm_short_title": "Frontend Specialist",
    "llm_short_duty": "Developing blockchain-based front-end applications",
    "llm_short_company_type": "Telecommunications/Information Services",
    "llm_remote_percentage": 100,
    "remote_partial": false,
    "remote_full": true,
    "location": "Tokyo",
    "source_details_url": "https://www.daijob.com/en/jobs/detail/1423856",
    "source": "Daijob",
    "language_en": "None",
    "language_jp": "Business",
    "salary_max": 18000000,
    "salary_min": 7000000,
    "createdAt": "\"2025-12-17T22:30:54.728Z\"",
    "posting_createdAt": "\"2025-12-16T00:00:00.000Z\"",
    "updatedAt": "\"2025-12-18T02:35:27.503Z\"",
    "posting_updatedAt": "\"2025-12-16T00:00:00.000Z\"",
    "ignored": null,
    "blocked": null,
    "user_notes": null,
    "llm_techs_used": {
      "TypeScript": 0,
      "Next.js": 0,
      "wagmi": 0,
      "Chakra UI": 0,
      "Go": 0,
      "Rust": 0,
      "Solidity": 0,
      "Kotlin": 0,
      "PostgreSQL": 0,
      "Azure Cosmos DB": 0,
      "Kubernetes": 0,
      "GitHub Actions": 0,
      "Argo CD": 0,
      "Argo Workflows": 0,
      "OpenTelemetry": 0,
      "Grafana": 0
    }
  },
  {
    "id": 248,
    "llm_match_percent": 35,
    "llm_short_title": "Site Reliability Engineer",
    "llm_short_duty": "Designing and operating blockchain infrastructure",
    "llm_short_company_type": "Telecommunications/Information Services",
    "llm_remote_percentage": 100,
    "remote_partial": false,
    "remote_full": true,
    "location": "Tokyo",
    "source_details_url": "https://www.daijob.com/en/jobs/detail/1423854",
    "source": "Daijob",
    "language_en": "None",
    "language_jp": "Business",
    "salary_max": 18000000,
    "salary_min": 7000000,
    "createdAt": "\"2025-12-17T22:30:54.728Z\"",
    "posting_createdAt": "\"2025-12-16T00:00:00.000Z\"",
    "updatedAt": "\"2025-12-18T02:35:27.530Z\"",
    "posting_updatedAt": "\"2025-12-16T00:00:00.000Z\"",
    "ignored": null,
    "blocked": null,
    "user_notes": null,
    "llm_techs_used": {
      "Go": 0,
      "Rust": 0,
      "Solidity": 0,
      "Kotlin": 0,
      "PostgreSQL": 0,
      "Azure": 0,
      "Kubernetes": 0,
      "GitHub Actions": 0,
      "Argo CD": 0,
      "Argo Workflows": 0,
      "OpenTelemetry": 0,
      "Grafana": 0,
      "Java": 4,
      "Git": 4,
      "Jenkins": 4,
      "Docker": 2,
      "MySQL": 2
    }
  },
  {
    "id": 249,
    "llm_match_percent": 42,
    "llm_short_title": "Blockchain Backend Engineer",
    "llm_short_duty": "Building blockchain infrastructure",
    "llm_short_company_type": "Telecommunications/Information Services",
    "llm_remote_percentage": 100,
    "remote_partial": false,
    "remote_full": true,
    "location": "Tokyo",
    "source_details_url": "https://www.daijob.com/en/jobs/detail/1423852",
    "source": "Daijob",
    "language_en": "None",
    "language_jp": "Business",
    "salary_max": 18000000,
    "salary_min": 7000000,
    "createdAt": "\"2025-12-17T22:30:54.728Z\"",
    "posting_createdAt": "\"2025-12-16T00:00:00.000Z\"",
    "updatedAt": "\"2025-12-18T02:35:27.559Z\"",
    "posting_updatedAt": "\"2025-12-16T00:00:00.000Z\"",
    "ignored": null,
    "blocked": null,
    "user_notes": null,
    "llm_techs_used": {
      "Go": 0,
      "Rust": 0,
      "Solidity": 0,
      "Kotlin": 0,
      "PostgreSQL": 0,
      "Azure Cosmos DB": 0,
      "Kubernetes": 0,
      "GitHub Actions": 0,
      "Argo CD": 0,
      "OpenTelemetry": 0,
      "Grafana": 0
    }
  },
  {
    "id": 254,
    "llm_match_percent": 65,
    "llm_short_title": "Data Scientist",
    "llm_short_duty": "Analyzing alternative data for institutional investors",
    "llm_short_company_type": "Data Analytics",
    "llm_remote_percentage": 0,
    "remote_partial": false,
    "remote_full": true,
    "location": "Tokyo",
    "source_details_url": "https://www.daijob.com/en/jobs/detail/1492103",
    "source": "Daijob",
    "language_en": "Conversational",
    "language_jp": "Conversational",
    "salary_max": 9000000,
    "salary_min": 5000000,
    "createdAt": "\"2025-12-17T22:30:54.732Z\"",
    "posting_createdAt": "\"2025-11-30T00:00:00.000Z\"",
    "updatedAt": "\"2025-12-18T02:35:27.590Z\"",
    "posting_updatedAt": "\"2025-12-10T00:00:00.000Z\"",
    "ignored": null,
    "blocked": null,
    "user_notes": null,
    "llm_techs_used": {
      "Python": 1,
      "SQL": 0,
      "Git": 4,
      "AWS": 0,
      "GCP": 0
    }
  },
  {
    "id": 255,
    "llm_match_percent": 85,
    "llm_short_title": "Full-stack Engineer",
    "llm_short_duty": "Developing web services and business applications",
    "llm_short_company_type": "System Integrator",
    "llm_remote_percentage": 100,
    "remote_partial": false,
    "remote_full": true,
    "location": "Kanagawa",
    "source_details_url": "https://www.daijob.com/en/jobs/detail/1087845",
    "source": "Daijob",
    "language_en": "Conversational",
    "language_jp": "Business",
    "salary_max": 12000000,
    "salary_min": 5000000,
    "createdAt": "\"2025-12-17T22:30:54.732Z\"",
    "posting_createdAt": "\"2025-11-28T00:00:00.000Z\"",
    "updatedAt": "\"2025-12-18T02:35:27.623Z\"",
    "posting_updatedAt": "\"2025-11-28T00:00:00.000Z\"",
    "ignored": null,
    "blocked": null,
    "user_notes": null,
    "llm_techs_used": {
      "Java": 4,
      "HTML": 4,
      "CSS": 3,
      "JavaScript": 3,
      "Node.js": 0,
      "React": 0,
      "TypeScript": 0,
      "Python": 1,
      "AWS": 0,
      "GCP": 0,
      "Azure": 0,
      "PHP": 0,
      "Go": 0,
      "Haskell": 0
    }
  },
  {
    "id": 267,
    "llm_match_percent": 15,
    "llm_short_title": "Senior Data Analyst",
    "llm_short_duty": "Building data-driven decision models for real-estate marketplace",
    "llm_short_company_type": "Real-Estate",
    "llm_remote_percentage": 60,
    "remote_partial": false,
    "remote_full": true,
    "location": "Tokyo",
    "source_details_url": "https://www.daijob.com/en/jobs/detail/1464217",
    "source": "Daijob",
    "language_en": "Conversational",
    "language_jp": "Conversational",
    "salary_max": 12000000,
    "salary_min": 8000000,
    "createdAt": "\"2025-12-17T22:30:59.512Z\"",
    "posting_createdAt": "\"2025-08-15T00:00:00.000Z\"",
    "updatedAt": "\"2025-12-18T02:35:27.650Z\"",
    "posting_updatedAt": "\"2025-10-02T00:00:00.000Z\"",
    "ignored": null,
    "blocked": null,
    "user_notes": null,
    "llm_techs_used": {
      "SQL": 1,
      "MySQL": 2,
      "Postgres": 0,
      "Snowflake": 0,
      "dbt": 0,
      "Tableau": 0,
      "Google Analytics 4": 0
    }
  },
  {
    "id": 270,
    "llm_match_percent": 15,
    "llm_short_title": "Full Stack Developer",
    "llm_short_duty": "Developing a supplement and skincare lifestyle app",
    "llm_short_company_type": "Telecommunications/Information Services",
    "llm_remote_percentage": 100,
    "remote_partial": false,
    "remote_full": true,
    "location": "Tokyo",
    "source_details_url": "https://www.daijob.com/en/jobs/detail/1404277",
    "source": "Daijob",
    "language_en": "None",
    "language_jp": "Fluent",
    "salary_max": 8500000,
    "salary_min": 6000000,
    "createdAt": "\"2025-12-17T22:30:59.512Z\"",
    "posting_createdAt": "\"2025-01-20T00:00:00.000Z\"",
    "updatedAt": "\"2025-12-18T02:35:27.677Z\"",
    "posting_updatedAt": "\"2025-07-25T00:00:00.000Z\"",
    "ignored": null,
    "blocked": null,
    "user_notes": null,
    "llm_techs_used": {
      "Jenkins": 4,
      "Git": 4,
      "Firebase": 0,
      "Sonar": 0
    }
  },
  {
    "id": 271,
    "llm_match_percent": 55,
    "llm_short_title": "Backend Engineer",
    "llm_short_duty": "developing Python web services for AI English-learning apps",
    "llm_short_company_type": "EdTech",
    "llm_remote_percentage": 50,
    "remote_partial": false,
    "remote_full": true,
    "location": "Tokyo",
    "source_details_url": "https://www.daijob.com/en/jobs/detail/1352556",
    "source": "Daijob",
    "language_en": "Conversational",
    "language_jp": "Business",
    "salary_max": 12000000,
    "salary_min": 7000000,
    "createdAt": "\"2025-12-17T22:30:59.512Z\"",
    "posting_createdAt": "\"2025-06-12T00:00:00.000Z\"",
    "updatedAt": "\"2025-12-18T02:35:27.705Z\"",
    "posting_updatedAt": "\"2025-07-01T00:00:00.000Z\"",
    "ignored": null,
    "blocked": null,
    "user_notes": null,
    "llm_techs_used": {
      "Python": 1,
      "Django": 0,
      "Flask": 0,
      "REST": 3,
      "GraphQL": 0,
      "AWS": 0,
      "Linux": 2,
      "RDBMS": 2,
      "Git": 4,
      "Terraform": 0
    }
  },
  {
    "id": 273,
    "llm_match_percent": 65,
    "llm_short_title": "Front-end engineer",
    "llm_short_duty": "developing Vue/React web applications for English-learning platforms",
    "llm_short_company_type": "EdTech",
    "llm_remote_percentage": 50,
    "remote_partial": false,
    "remote_full": true,
    "location": "Tokyo",
    "source_details_url": "https://www.daijob.com/en/jobs/detail/1353771",
    "source": "Daijob",
    "language_en": "Conversational",
    "language_jp": "Business",
    "salary_max": 12000000,
    "salary_min": 7000000,
    "createdAt": "\"2025-12-17T22:30:59.512Z\"",
    "posting_createdAt": "\"2025-06-12T00:00:00.000Z\"",
    "updatedAt": "\"2025-12-18T02:35:27.736Z\"",
    "posting_updatedAt": "\"2025-07-01T00:00:00.000Z\"",
    "ignored": null,
    "blocked": null,
    "user_notes": null,
    "llm_techs_used": {
      "Vue.js": 0,
      "React": 0,
      "JavaScript": 2,
      "HTML": 4,
      "CSS": 3,
      "Git": 4,
      "Jenkins": 4,
      "Jira": 4
    }
  },
  {
    "id": 323,
    "llm_match_percent": 37,
    "llm_short_title": "BI Engineer",
    "llm_short_duty": "Building and optimizing BI dashboards and data marts",
    "llm_short_company_type": "IT Services",
    "llm_remote_percentage": 100,
    "remote_partial": false,
    "remote_full": false,
    "location": "Hyogo, Japan",
    "source_details_url": "https://jp.linkedin.com/jobs/view/%E3%80%90%E3%83%AA%E3%83%A2%E3%83%BC%E3%83%88%E3%80%91bi%E3%82%A8%E3%83%B3%E3%82%B8%E3%83%8B%E3%82%A2-%E3%82%A8%E3%82%AD%E3%82%B9%E3%83%91%E3%83%BC%E3%83%88-at-%E6%A0%AA%E5%BC%8F%E4%BC%9A%E7%A4%BE%E3%83%8B%E3%82%B8%E3%83%9C%E3%83%83%E3%82%AF%E3%82%B9%EF%BC%88nijibox-co-ltd-%EF%BC%89-4339210584?position=4&amp;pageNum=0&amp;refId=%2FHX3u80a2vQfoHyPPVWKww%3D%3D&amp;trackingId=KWeHg%2Bl6q4%2F8pCwkCO3qrw%3D%3D",
    "source": "LinkedIn",
    "language_en": "None",
    "language_jp": "Fluent",
    "salary_max": 10690000,
    "salary_min": 6250000,
    "createdAt": "\"2025-12-18T02:21:51.219Z\"",
    "posting_createdAt": "\"2025-11-26T00:00:00.000Z\"",
    "updatedAt": "\"2025-12-18T02:35:27.772Z\"",
    "posting_updatedAt": "\"2025-11-26T00:00:00.000Z\"",
    "ignored": null,
    "blocked": null,
    "user_notes": null,
    "llm_techs_used": {
      "BigQuery": 0,
      "Tableau": 0,
      "Looker": 0,
      "dbt": 0,
      "dataform": 0,
      "GCP": 0,
      "AWS": 0,
      "Azure": 0,
      "Git": 4
    }
  },
  {
    "id": 327,
    "llm_match_percent": 25,
    "llm_short_title": "Embedded Software Engineer",
    "llm_short_duty": "Designing and coding embedded software for automotive and home appliances",
    "llm_short_company_type": "IT Consulting",
    "llm_remote_percentage": 30,
    "remote_partial": false,
    "remote_full": false,
    "location": "Hyogo, Japan",
    "source_details_url": "https://jp.linkedin.com/jobs/view/%E3%80%90%E5%85%B5%E5%BA%AB%E3%80%91%E7%B5%84%E8%BE%BC%E3%81%BF%E3%82%BD%E3%83%95%E3%83%88%E3%82%A6%E3%82%A7%E3%82%A2%E9%96%8B%E7%99%BA%E3%82%A8%E3%83%B3%E3%82%B8%E3%83%8B%E3%82%A2%E3%80%80%E8%A6%AA%E4%BC%9A%E7%A4%BE%E3%83%97%E3%83%A9%E3%82%A4%E3%83%A0%E4%B8%8A%E5%A0%B4%E3%83%BB20%E6%9C%9F%E9%BB%92%E5%AD%97%E3%83%BB%E3%83%95%E3%83%AB%E3%83%95%E3%83%AC%E3%83%83%E3%82%AF%E3%82%B9%E3%83%BB%E5%9C%A8%E5%AE%85%E3%81%82%E3%82%8A-at-%E6%96%B0%E5%85%89%E5%95%86%E4%BA%8B%E3%82%A8%E3%83%AB%E3%82%A8%E3%82%B9%E3%82%A2%E3%82%A4%E3%83%87%E3%82%B6%E3%82%A4%E3%83%B3%E3%82%BB%E3%83%B3%E3%82%BF%E3%83%BC%EF%BC%88%E6%A0%AA%EF%BC%89-4344192401?position=8&amp;pageNum=0&amp;refId=%2FHX3u80a2vQfoHyPPVWKww%3D%3D&amp;trackingId=HcM3aVaVVKEBV99gwlrCXA%3D%3D",
    "source": "LinkedIn",
    "language_en": "None",
    "language_jp": "Fluent",
    "salary_max": 9000000,
    "salary_min": 8000000,
    "createdAt": "\"2025-12-18T02:21:51.219Z\"",
    "posting_createdAt": "\"2025-12-16T00:00:00.000Z\"",
    "updatedAt": "\"2025-12-18T02:35:27.813Z\"",
    "posting_updatedAt": "\"2025-12-16T00:00:00.000Z\"",
    "ignored": null,
    "blocked": null,
    "user_notes": null,
    "llm_techs_used": {
      "C++": 0,
      "C#": 0,
      "Java": 4,
      "Python": 1
    }
  },
  {
    "id": 330,
    "llm_match_percent": 15,
    "llm_short_title": "Embedded Radar/LiDAR Engineer",
    "llm_short_duty": "designing safety-critical radar/LiDAR software",
    "llm_short_company_type": "Automotive Electronics",
    "llm_remote_percentage": 0,
    "remote_partial": false,
    "remote_full": false,
    "location": "Hyogo, Japan",
    "source_details_url": "https://jp.linkedin.com/jobs/view/%E3%80%90%E7%A5%9E%E6%88%B8%E3%80%91%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%83%9E%E3%83%8D%E3%82%B8%E3%83%A1%E3%83%B3%E3%83%88-pm-%E3%82%BD%E3%83%95%E3%83%88%E3%82%A6%E3%82%A7%E3%82%A2%E9%96%8B%E7%99%BA-%E3%82%AB%E3%83%BC%E3%83%8A%E3%83%93%E7%AD%89%E3%81%AE%E3%82%A4%E3%83%B3%E3%83%95%E3%82%A9%E3%83%86%E3%82%A4%E3%83%A1%E3%83%B3-%E4%BB%A5%E4%B8%8B%E7%95%A5-at-%EF%BC%88%E6%A0%AA%EF%BC%89%E3%83%87%E3%83%B3%E3%82%BD%E3%83%BC%E3%83%86%E3%83%B3-4296620275?position=1&amp;pageNum=1&amp;refId=hXPrlZ%2Fd0%2F5GKHhwN%2Bclew%3D%3D&amp;trackingId=Z7AesJo1ThfIy5oBi2Lefg%3D%3D",
    "source": "LinkedIn",
    "language_en": "None",
    "language_jp": "Fluent",
    "salary_max": 12000000,
    "salary_min": 7000000,
    "createdAt": "\"2025-12-18T02:21:51.219Z\"",
    "posting_createdAt": "\"2025-09-05T00:00:00.000Z\"",
    "updatedAt": "\"2025-12-18T02:35:27.885Z\"",
    "posting_updatedAt": "\"2025-09-05T00:00:00.000Z\"",
    "ignored": null,
    "blocked": null,
    "user_notes": null,
    "llm_techs_used": {
      "SVN": 0,
      "JIRA": 3
    }
  },
  {
    "id": 332,
    "llm_match_percent": 25,
    "llm_short_title": "Embedded Radar/LIDAR Software Designer",
    "llm_short_duty": "designing safety-critical sensing software",
    "llm_short_company_type": "Automotive Electronics",
    "llm_remote_percentage": 0,
    "remote_partial": false,
    "remote_full": false,
    "location": "Hyogo, Japan",
    "source_details_url": "https://jp.linkedin.com/jobs/view/%E3%82%BD%E3%83%95%E3%83%88%E3%82%A6%E3%82%A7%E3%82%A2%E9%96%8B%E7%99%BA%EF%BC%9C%E5%85%88%E9%80%B2%E5%AE%89%E5%85%A8%E3%82%B7%E3%82%B9%E3%83%86%E3%83%A0%E3%81%AE%E5%89%8D%E6%96%B9%E7%9B%A3%E8%A6%96%E3%83%BB%E5%91%A8%E8%BE%BA%E7%9B%A3%E8%A6%96%E3%83%AC%E3%83%BC%E3%83%80%E3%83%BBlidar%EF%BC%9E-at-%EF%BC%88%E6%A0%AA%EF%BC%89%E3%83%87%E3%83%B3%E3%82%BD%E3%83%BC%E3%82%BD%E3%83%AA%E3%83%A5%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E3%82%BA-4343161419?position=6&amp;pageNum=1&amp;refId=hXPrlZ%2Fd0%2F5GKHhwN%2Bclew%3D%3D&amp;trackingId=2k8wNaW9SRtouhJWLNDYYw%3D%3D",
    "source": "LinkedIn",
    "language_en": "None",
    "language_jp": "Fluent",
    "salary_max": 9500000,
    "salary_min": 6500000,
    "createdAt": "\"2025-12-18T02:21:51.219Z\"",
    "posting_createdAt": "\"2025-12-10T00:00:00.000Z\"",
    "updatedAt": "\"2025-12-18T02:35:27.920Z\"",
    "posting_updatedAt": "\"2025-12-10T00:00:00.000Z\"",
    "ignored": null,
    "blocked": null,
    "user_notes": null,
    "llm_techs_used": {
      "SVN": 0,
      "JIRA": 4
    }
  },
  {
    "id": 333,
    "llm_match_percent": 45,
    "llm_short_title": "Embedded Software Lead",
    "llm_short_duty": "coordinating and designing embedded software for automotive navigation units",
    "llm_short_company_type": "Automotive Electronics",
    "llm_remote_percentage": 0,
    "remote_partial": false,
    "remote_full": false,
    "location": "Hyogo, Japan",
    "source_details_url": "https://jp.linkedin.com/jobs/view/%E3%82%BD%E3%83%95%E3%83%88%E3%82%A6%E3%82%A7%E3%82%A2%E9%96%8B%E7%99%BA-%E7%B5%B1%E6%8B%AC%EF%BC%9C%E8%BB%8A%E8%BC%89%E3%83%8A%E3%83%93%E3%82%B2%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E6%A9%9F%E5%99%A8%EF%BC%9E-at-%EF%BC%88%E6%A0%AA%EF%BC%89%E3%83%87%E3%83%B3%E3%82%BD%E3%83%BC%E3%83%86%E3%83%B3-4343101562?position=9&amp;pageNum=1&amp;refId=hXPrlZ%2Fd0%2F5GKHhwN%2Bclew%3D%3D&amp;trackingId=fzUQBr6cbNp8CA1zfl05IA%3D%3D",
    "source": "LinkedIn",
    "language_en": "None",
    "language_jp": "Fluent",
    "salary_max": 9800000,
    "salary_min": 6800000,
    "createdAt": "\"2025-12-18T02:21:51.219Z\"",
    "posting_createdAt": "\"2025-12-10T00:00:00.000Z\"",
    "updatedAt": "\"2025-12-18T02:35:27.952Z\"",
    "posting_updatedAt": "\"2025-12-10T00:00:00.000Z\"",
    "ignored": null,
    "blocked": null,
    "user_notes": null,
    "llm_techs_used": {
      "Java EE": 3,
      "Spring Framework": 2,
      "XML": 3,
      "Git": 4,
      "Jenkins": 4,
      "REST": 2,
      "SOAP": 2,
      "Jira": 4,
      "Confluence": 4,
      "Agile methodologies": 4
    }
  },
  {
    "id": 335,
    "llm_match_percent": 25,
    "llm_short_title": "Project Manager",
    "llm_short_duty": "Managing embedded software projects for car audio amplifiers",
    "llm_short_company_type": "Automotive Electronics",
    "llm_remote_percentage": 0,
    "remote_partial": false,
    "remote_full": false,
    "location": "Hyogo, Japan",
    "source_details_url": "https://jp.linkedin.com/jobs/view/%E3%80%90%E7%A5%9E%E6%88%B8%E3%80%91%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%83%9E%E3%83%8D%E3%82%B8%E3%83%A1%E3%83%B3%E3%83%88%EF%BC%88%E7%B5%84%E8%BE%BC%E3%81%BF%E3%82%BD%E3%83%95%E3%83%88%E3%82%A6%E3%82%A7%E3%82%A2%E9%96%8B%E7%99%BA%EF%BC%89%EF%BC%8F%E9%AB%98%E7%B4%9A%E8%87%AA%E5%8B%95%E8%BB%8A%E5%90%91%E3%81%91%E3%82%AA%E3%83%BC%E3%83%87%E3%82%A3%E3%82%AA%E3%82%A2%E3%83%B3-%E4%BB%A5%E4%B8%8B%E7%95%A5-at-%EF%BC%88%E6%A0%AA%EF%BC%89%E3%83%87%E3%83%B3%E3%82%BD%E3%83%BC%E3%83%86%E3%83%B3-4266380617?position=2&amp;pageNum=3&amp;refId=%2FdMLIPirj7glmQTqic0OSw%3D%3D&amp;trackingId=iNtYSkVOs4CG7QFokCHCnA%3D%3D",
    "source": "LinkedIn",
    "language_en": "None",
    "language_jp": "Fluent",
    "salary_max": 9500000,
    "salary_min": 6500000,
    "createdAt": "\"2025-12-18T02:21:51.219Z\"",
    "posting_createdAt": "\"2025-07-14T00:00:00.000Z\"",
    "updatedAt": "\"2025-12-18T02:35:27.984Z\"",
    "posting_updatedAt": "\"2025-07-14T00:00:00.000Z\"",
    "ignored": null,
    "blocked": null,
    "user_notes": null,
    "llm_techs_used": {
      "Git": 4
    }
  },
  {
    "id": 340,
    "llm_match_percent": 62,
    "llm_short_title": "Internal Systems Engineer",
    "llm_short_duty": "introducing DX tools to improve mass-production software efficiency and quality",
    "llm_short_company_type": "Automotive Electronics Manufacturing",
    "llm_remote_percentage": 0,
    "remote_partial": false,
    "remote_full": false,
    "location": "Hyogo, Japan",
    "source_details_url": "https://jp.linkedin.com/jobs/view/%E3%80%90%E7%A5%9E%E6%88%B8%E3%80%91%E7%A4%BE%E5%86%85se%EF%BD%9Edx%E3%83%84%E3%83%BC%E3%83%AB%E5%B0%8E%E5%85%A5%E6%8E%A8%E9%80%B2%E3%83%AA%E3%83%BC%E3%83%80%E3%83%BC-%E9%87%8F%E7%94%A3%E3%82%BD%E3%83%95%E3%83%88%E9%96%8B%E7%99%BA%E3%81%AE%E5%8A%B9%E7%8E%87%E5%8C%96%E3%83%BB%E5%93%81%E8%B3%AA%E5%90%91%E4%B8%8A-%EF%BD%9E-at-%EF%BC%88%E6%A0%AA%EF%BC%89%E3%83%87%E3%83%B3%E3%82%BD%E3%83%BC%E3%83%86%E3%83%B3-4252836721?position=7&amp;pageNum=3&amp;refId=%2FdMLIPirj7glmQTqic0OSw%3D%3D&amp;trackingId=xw0JGwdyI7NjWVXasQLKpA%3D%3D",
    "source": "LinkedIn",
    "language_en": "None",
    "language_jp": "Fluent",
    "salary_max": 9500000,
    "salary_min": 6000000,
    "createdAt": "\"2025-12-18T02:21:51.223Z\"",
    "posting_createdAt": "\"2025-06-17T00:00:00.000Z\"",
    "updatedAt": "\"2025-12-18T02:35:28.019Z\"",
    "posting_updatedAt": "\"2025-06-17T00:00:00.000Z\"",
    "ignored": null,
    "blocked": null,
    "user_notes": null,
    "llm_techs_used": {
      "Git": 4
    }
  },
  {
    "id": 341,
    "llm_match_percent": 25,
    "llm_short_title": "Embedded Software Engineer",
    "llm_short_duty": "Developing next-generation automotive collision-safety ECU software",
    "llm_short_company_type": "Automotive Electronics",
    "llm_remote_percentage": 0,
    "remote_partial": false,
    "remote_full": false,
    "location": "Hyogo, Japan",
    "source_details_url": "https://jp.linkedin.com/jobs/view/%E7%B5%84%E8%BE%BC%E3%81%BF%E3%82%BD%E3%83%95%E3%83%88%E3%82%A6%E3%82%A7%E3%82%A2%E9%96%8B%E7%99%BA%EF%BC%9C%E6%AC%A1%E4%B8%96%E4%BB%A3%E8%BB%8A%E8%BC%89%E8%A1%9D%E7%AA%81%E5%AE%89%E5%85%A8%E3%82%B7%E3%82%B9%E3%83%86%E3%83%A0%E5%90%91%E3%81%91%EF%BC%9E-at-%EF%BC%88%E6%A0%AA%EF%BC%89%E3%83%87%E3%83%B3%E3%82%BD%E3%83%BC%E3%82%BD%E3%83%AA%E3%83%A5%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E3%82%BA-4343111577?position=8&amp;pageNum=3&amp;refId=%2FdMLIPirj7glmQTqic0OSw%3D%3D&amp;trackingId=Mve7%2FUP078nspnOrabZ1fA%3D%3D",
    "source": "LinkedIn",
    "language_en": "Conversational",
    "language_jp": "Fluent",
    "salary_max": 14300000,
    "salary_min": 6500000,
    "createdAt": "\"2025-12-18T02:21:51.223Z\"",
    "posting_createdAt": "\"2025-12-10T00:00:00.000Z\"",
    "updatedAt": "\"2025-12-18T02:40:24.953Z\"",
    "posting_updatedAt": "\"2025-12-10T00:00:00.000Z\"",
    "ignored": null,
    "blocked": null,
    "user_notes": null,
    "llm_techs_used": {
      "C": 0
    }
  },
  {
    "id": 346,
    "llm_match_percent": 25,
    "llm_short_title": "AI Project Manager",
    "llm_short_duty": "managing embedded-AI projects",
    "llm_short_company_type": "automotive electronics",
    "llm_remote_percentage": 0,
    "remote_partial": false,
    "remote_full": false,
    "location": "Hyogo, Japan",
    "source_details_url": "https://jp.linkedin.com/jobs/view/ai%E3%83%A2%E3%83%87%E3%83%AB%E9%96%8B%E7%99%BA%EF%BC%9C%E8%BB%8A%E8%BC%89%E6%A9%9F%E5%90%91%E3%81%91%EF%BC%9E-at-%EF%BC%88%E6%A0%AA%EF%BC%89%E3%83%87%E3%83%B3%E3%82%BD%E3%83%BC%E3%83%86%E3%83%B3-4343081640?position=3&amp;pageNum=4&amp;refId=UlMiTBp%2BIL0F1xCTyriCsA%3D%3D&amp;trackingId=AtfwyCJwMHWyZJIkBeK0wA%3D%3D",
    "source": "LinkedIn",
    "language_en": "None",
    "language_jp": "Fluent",
    "salary_max": 12500000,
    "salary_min": 6800000,
    "createdAt": "\"2025-12-18T02:21:51.223Z\"",
    "posting_createdAt": "\"2025-12-10T00:00:00.000Z\"",
    "updatedAt": "\"2025-12-18T02:40:24.970Z\"",
    "posting_updatedAt": "\"2025-12-10T00:00:00.000Z\"",
    "ignored": null,
    "blocked": null,
    "user_notes": null,
    "llm_techs_used": {}
  },
  {
    "id": 356,
    "llm_match_percent": 8,
    "llm_short_title": "MBSE Consultant",
    "llm_short_duty": "Consulting on model-based systems engineering for manufacturing clients",
    "llm_short_company_type": "Business Consulting",
    "llm_remote_percentage": 0,
    "remote_partial": false,
    "remote_full": false,
    "location": "Hyogo, Japan",
    "source_details_url": "https://jp.linkedin.com/jobs/view/%E3%80%90%E5%85%B5%E5%BA%AB%E3%80%91mbse%E3%82%B3%E3%83%B3%E3%82%B5%E3%83%AB%E3%82%BF%E3%83%B3%E3%83%88-at-%E6%A0%AA%E5%BC%8F%E4%BC%9A%E7%A4%BEidaj-4216728492?position=3&amp;pageNum=1&amp;refId=hXPrlZ%2Fd0%2F5GKHhwN%2Bclew%3D%3D&amp;trackingId=Sq%2B2cGTQ%2B2OuG0IihGEQkQ%3D%3D",
    "source": "LinkedIn",
    "language_en": "None",
    "language_jp": "Fluent",
    "salary_max": 11000000,
    "salary_min": 6000000,
    "createdAt": "\"2025-12-18T02:21:53.521Z\"",
    "posting_createdAt": "\"2025-04-24T00:00:00.000Z\"",
    "updatedAt": "\"2025-12-18T02:40:24.985Z\"",
    "posting_updatedAt": "\"2025-04-24T00:00:00.000Z\"",
    "ignored": null,
    "blocked": null,
    "user_notes": null,
    "llm_techs_used": {
      "matlab": 0
    }
  }
];  //Replace this line with Job Postings

jobPostings.sort((a, b) => b.llm_match_percent - a.llm_match_percent);

for (const j of jobPostings) {
  j.blocked = (j.blocked === true || j.blocked === "true");
  j.ignored = (j.ignored === true || j.ignored === "true");
}

document.getElementById("timestamp-subheading").textContent =
  "as of " + generationTimestamp.toLocaleString();

document.querySelectorAll(".accordion-header").forEach(h => {
  h.addEventListener("click", () => {
    const target = document.getElementById(h.dataset.target);
    const isOpen = target.style.display === "block";
    target.style.display = isOpen ? "none" : "block";
  });
});


function colorFromPercent(p){
  const r = p<50 ? 255 : Math.round(255 - (p-50)*5.1);
  const g = p>50 ? 255 : Math.round(p*5.1);
  return `rgb(${r},${g},0)`;
}

function colorByLevel(v, invert){
  const colors=["red","orange","yellowgreen","green"];
  const map={"None":0,"Conversational":1,"Business":2,"Fluent":3};
  const invertOffset = invert ? 3 : 0;
  const invertMultiplier = invert ? 1 : -1;
  return colors[(invertOffset - map[v]) * invertMultiplier];
}

function humanReadableAge(createdAt) {
  const now = new Date();
  let diffSeconds = (now - createdAt) / 1000; // seconds

  if (diffSeconds < 60) return `${Math.floor(diffSeconds)} seconds`;
  const diffMinutes = diffSeconds / 60;
  if (diffMinutes < 60) return `${Math.floor(diffMinutes)} minutes`;
  const diffHours = diffMinutes / 60;
  if (diffHours < 24) return `${Math.floor(diffHours)} hours`;
  const diffDays = diffHours / 24;
  if (diffDays < 30) return `${Math.floor(diffDays)} days`;
  const diffMonths = Math.floor(diffDays / 30);
  return `${diffMonths} month${diffMonths > 1 ? "s" : ""}`;
}


function colorByAge(createdAt) {
  const now = new Date();
  const diffDays = (now - createdAt) / (1000 * 60 * 60 * 24); // total days

  if (diffDays >= 30) return "red"; // fully red after 1 month

  let r = 0, g = 0, b = 0;

  if (diffDays <= 15) {
    // green → yellow (0–15 days)
    const t = diffDays / 15; // 0 → 1
    r = Math.round(255 * t);     // R goes 0 → 255
    g = 255;                     // G stays at 255
  } else {
    // yellow → red (15–30 days)
    const t = (diffDays - 15) / 15; // 0 → 1
    r = 255;                       // R stays at 255
    g = Math.round(255 * (1 - t)); // G goes 255 → 0
  }

  return `rgb(${r},${g},${b})`;
}

async function updateCategoryOnServer(j) {
  const url = new URL("http://localhost:5678/webhook/jobs-report/update-categories");
  url.searchParams.set("id", j.id);
  url.searchParams.set("blocked", j.blocked ? "true" : "false");
  url.searchParams.set("ignored", j.ignored ? "true" : "false");

  const res = await fetch(url.toString(), { method: "GET" });
  const result = await res.json();  
  return result;
}


function getDateFromString(value) {
    let unwrappedStr = value;
    while (unwrappedStr.startsWith("\"")) {
        unwrappedStr = JSON.parse(unwrappedStr);
    }
    return new Date(unwrappedStr);
}

function renderCardButtons(actions, j, card) {
  actions.innerHTML = ""; // clear previous buttons

  const addButton = (label, handler) => {
    const btn = document.createElement("div");
    btn.className = "action-btn";
    btn.textContent = label;
    btn.onclick = handler;
    actions.appendChild(btn);
  };

  // Always present:
  addButton(`View on ${j.source}`, () =>
    window.open(j.source_details_url, "_blank")
  );
  addButton("Edit Notes", () => {
    overlay.style.display = "flex";
    notesTextarea.value = j.user_notes || "";
    notesTextarea.dataset.cardId = j.id;
  });

  // Current bucket → valid transitions
  if (!j.blocked && !j.ignored) {
    // READY → Waiting, Dismissed
    addButton("Move to Waiting", () => {
      j.blocked = true;
      j.ignored = false;
      moveCard(card, j);
    });
    addButton("Move to Dismissed", () => {
      j.ignored = true;
      j.blocked = false;
      moveCard(card, j);
    });
  } else if (j.blocked) {
    // WAITING → Ready, Dismissed
    addButton("Move to Ready For Review", () => {
      j.blocked = false;
      j.ignored = false;
      moveCard(card, j);
    });
    addButton("Move to Dismissed", () => {
      j.ignored = true;
      j.blocked = false;
      moveCard(card, j);
    });
  } else if (j.ignored) {
    // DISMISSED → Ready, Waiting
    addButton("Move to Ready For Review", () => {
      j.ignored = false;
      j.blocked = false;
      moveCard(card, j);
    });
    addButton("Move to Waiting", () => {
      j.blocked = true;
      j.ignored = false;
      moveCard(card, j);
    });
  }
}


function makeCard(j){
  const card=document.createElement("div");
  card.className="card";
  card.dataset.id = String(j.id);
  card.style.border=`3px solid ${colorFromPercent(j.llm_match_percent)}`;
  card.style.boxShadow=`0 0 12px ${colorFromPercent(j.llm_match_percent)}`;

  const top=document.createElement("div");
  top.className="top-section";

  const loc=document.createElement("div");
  loc.className="circle location-circle";
  let locColor="red",locText=j.location;
  if(j.remote_full){locColor="green";locText="Remote";}
  else if(j.remote_partial){
    if(j.location==="Osaka"){locColor="greenyellow";locText="Osaka (Partial Remote)";}
    else if(["Kyoto","Nara","Sakai","Kobe"].includes(j.location)){locColor="yellow";locText=`${j.location} (Partial Remote)`;}
    else{locColor="red";locText=`${j.location} (Partial Remote)`;}
  }else{
    if(j.location==="Osaka"){locColor="yellow";locText="Osaka";}
    else if(["Kyoto","Nara","Sakai","Kobe"].includes(j.location)){locColor="orange";locText=j.location;}
    else locColor="red";
  }
  loc.style.background=locColor;
  loc.textContent=locText;
  loc.addEventListener("mouseenter",()=>loc.textContent=j.llm_remote_percentage+"%");
  loc.addEventListener("mouseleave",()=>loc.textContent=locText);

  const match=document.createElement("div");
  match.className="circle match-circle";
  match.style.background=colorFromPercent(j.llm_match_percent);
  match.textContent=j.llm_match_percent+"%";
  match.addEventListener("mouseenter",()=>match.textContent=j.id);
  match.addEventListener("mouseleave",()=>match.textContent=j.llm_match_percent+"%");

  const ruler=document.createElement("div");
  ruler.className="salary-ruler";
  for(let i=0;i<=32;i++){
    const mark=document.createElement("div");
    mark.className="mark"+(i%2===0?" major":"");
    mark.style.left=(i/32*100)+"%";
    ruler.appendChild(mark);
    if(i%2===0){
      const label=document.createElement("div");
      label.className="label";
      label.style.left=(i/32*100)+"%";
      label.textContent=(i/2)+"m";
      ruler.appendChild(label);
    }
  }

  const range=document.createElement("div");
  range.className="salary-range";
  const start=(j.salary_min/16000000)*100;
  const end=(j.salary_max/16000000)*100;
    
  range.style.left=start+"%";
  range.style.width=(end-start)+"%";

  if (end <= 50) {
    //All red case
    range.style.background="linear-gradient(to right, rgba(255,0,0,0.4) 0 100%";
  } else if (start >= 50) {
    range.style.background="linear-gradient(to right, rgba(0,255,0,0.4) 0 100%";
  } else {
    const crossover = Math.ceil(((50-start) / (end-start)) * 100);
    range.style.background=`linear-gradient(to right, rgba(255,0,0,0.4) 0 ${crossover}%, rgba(0,200,0,0.4) ${crossover}% 100%)`;
  }
    
  ruler.appendChild(range);

  top.append(loc,match,ruler);

  const mid=document.createElement("div");
  mid.className="middle-section";

      
  const jp=document.createElement("div");

    const jpHeader = document.createElement("div");
    jpHeader.className = "language-header";
    jpHeader.textContent = "JP";
    jp.appendChild(jpHeader);


  jp.className="language-ruler left";
  ["Fluent","Business","Conversational","None"].reverse().forEach(l=>{
    const lbl=document.createElement("div");
    lbl.className="label";
    lbl.textContent=l;
    jp.appendChild(lbl);
  });
  const jpTri=document.createElement("div");
  jpTri.className="triangle";
  const jpLevels=["Fluent","Business","Conversational","None"].reverse();
  const jpLevelsOffsets = [6.5, 36, 66, 95].reverse();
  jpTri.style.top=(jpLevelsOffsets[jpLevels.indexOf(j.language_jp)]+"%");
  jpTri.style.transform="translateY(-50%)";
  jpTri.style.borderRightColor=colorByLevel(j.language_jp, false);
  jp.appendChild(jpTri);

  const center=document.createElement("div");
  center.className="center-info";
  ["llm_short_title","llm_short_duty","llm_short_company_type"].forEach(k=>{
    const d=document.createElement("div");
    d.textContent=j[k];
    center.appendChild(d);
  });

  const en=document.createElement("div");

    const enHeader = document.createElement("div");
enHeader.className = "language-header";
enHeader.textContent = "EN";
en.appendChild(enHeader);

    
  en.className="language-ruler right";
  ["None","Conversational","Business","Fluent"].reverse().forEach(l=>{
    const lbl=document.createElement("div");
    lbl.className="label";
    lbl.textContent=l;
    en.appendChild(lbl);
  });
  const enTri=document.createElement("div");
  enTri.className="triangle";
  const enLevels=["None","Conversational","Business","Fluent"].reverse();
  const enLevelsOffsets = jpLevelsOffsets.reverse();
  enTri.style.top=(enLevelsOffsets[enLevels.indexOf(j.language_en)]+"%");
  enTri.style.transform="translateY(-50%)";
  enTri.style.borderLeftColor=colorByLevel(j.language_en, false);
  en.appendChild(enTri);

  mid.append(jp,center,en);

const ageCircle = document.createElement("div");
ageCircle.className = "circle age-circle";
const reportedPostedDate = getDateFromString(j.posting_createdAt);
const firstSeenDate  = getDateFromString(j.createdAt);
const createdDate = reportedPostedDate < firstSeenDate ? reportedPostedDate : firstSeenDate;
ageCircle.textContent = humanReadableAge(createdDate);
ageCircle.style.background = colorByAge(createdDate);

// on-hover: show full date & time in Japan timezone
ageCircle.addEventListener("mouseenter", () => {
  const d = createdDate;
  const options = { timeZone: "Asia/Tokyo", year: "numeric", month: "2-digit", day: "2-digit" };
  const timeOptions = { timeZone: "Asia/Tokyo", hour: "2-digit", minute: "2-digit", second: "2-digit", hour12: false };
  ageCircle.textContent = `${d.toLocaleDateString("en-CA", options)}\n${d.toLocaleTimeString("en-GB", timeOptions)}`;
  ageCircle.style.fontSize = "0.8rem";
});

ageCircle.addEventListener("mouseleave", () => {
  ageCircle.textContent = humanReadableAge(createdDate);
  ageCircle.style.background = colorByAge(createdDate); // refresh color in case time passed
  ageCircle.style.fontSize = "0.9rem";
});


  const bottomTechs=document.createElement("div");
  bottomTechs.className="bottom-techs";
  for(const [tech,v] of Object.entries(j.llm_techs_used)){
    const t=document.createElement("span");
    t.className="tech";
    const colors=["red","orange","yellow","yellowgreen","green"];
    t.style.color=colors[v];
    t.textContent=tech;
    bottomTechs.appendChild(t);
  }


    const bottomSection = document.createElement("div");
    bottomSection.className = "bottom-section";
    bottomSection.style.position = "relative"; // if needed
    
    // append ageCircle and bottom-techs into this section
    bottomSection.appendChild(ageCircle);
    bottomSection.appendChild(bottomTechs);
    


    // Create bottom buttons container
// Create bottom buttons container
const actions = document.createElement("div");
actions.className = "card-actions";

// Render the correct buttons depending on state
renderCardButtons(actions, j, card);



  
    card.append(top, mid, bottomSection, actions);
  return card;
}

const readySection = document.getElementById("section-ready");
const waitingSection = document.getElementById("section-waiting");
const dismissedSection = document.getElementById("section-dismissed");

jobPostings.forEach(j => {
  const card = makeCard(j);
  if (j.ignored === true) { insertCardSorted(dismissedSection, card, j); }
  else if (j.blocked === true) { insertCardSorted(waitingSection, card, j); }
  else { insertCardSorted(readySection, card, j); }
});

function insertCardSorted(section, card, j) {
  // Get current children as array
  const children = Array.from(section.children);

  // Find insertion point: first child whose job's llm_match_percent < j.llm_match_percent
  let inserted = false;
  for (let existingEl of children) {
    const existingId = existingEl.dataset?.id;
    if (!existingId) continue;
    const existingJob = jobPostings.find(x => String(x.id) === String(existingId));
    if (!existingJob) continue;

    if (existingJob.llm_match_percent < j.llm_match_percent) {
      section.insertBefore(card, existingEl);
      inserted = true;
      break;
    }
  }

  // If nothing found, append to end
  if (!inserted) {
    section.appendChild(card);
  }
}

async function moveCard(card, j) {
  const oldBlocked = !j.blocked;
  const oldIgnored = !j.ignored;

  // Call server
  const result = await updateCategoryOnServer(j);

  if (!result.errorStr) {
    // SUCCESS – update UI as before
      if (card.parentElement) {
        card.parentElement.removeChild(card);
      }
    
      // decide destination
      let dest;
      if (j.ignored === true) {
        dest = dismissedSection;
      } else if (j.blocked === true) {
        dest = waitingSection;
      } else {
        dest = readySection;
      }

  // insert it into dest in sorted position
  insertCardSorted(dest, card, j);
    
    renderCardButtons(card.querySelector(".card-actions"), j, card);
  } else {
    // FAILURE – revert
    j.blocked = oldBlocked;
    j.ignored = oldIgnored;
    console.error("Category update failed:", result.errorStr);
  }
}





    const overlay = document.getElementById("overlay-notes");
const notesTextarea = document.getElementById("notes-textarea");
document.getElementById("save-note").onclick = async () => {
  const id = notesTextarea.dataset.cardId;
  const newText = notesTextarea.value;

  const res = await fetch(
    "http://localhost:5678/webhook/jobs-report/update-notes",
    {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({
        id,
        "user_notes": newText
      })
    }
  );

  const result = await res.json();

  if (!result.errorStr) {
    // SUCCESS → Save locally
    const cardData = jobPostings.find(j => j.id == id);
    if (cardData) {
      cardData.user_notes = newText;
    }
    overlay.style.display = "none";
  } else {
    console.error("Note update failed:", result.errorStr);
  }
};

document.getElementById("cancel-note").onclick = () => {
  overlay.style.display = "none";
};

// --- ACCORDION LOGIC ---

function setupAccordion(id, startOpen) {
  const acc = document.getElementById(id);
  const header = acc.querySelector(".accordion-header");
  const content = acc.querySelector(".accordion-content");

  // initial state
  content.style.display = startOpen ? "block" : "none";

  header.addEventListener("click", () => {
    content.style.display = (content.style.display === "none") ? "block" : "none";
  });
}

setupAccordion("section-ready", true);     // open by default
setupAccordion("section-waiting", false);
setupAccordion("section-dismissed", false);


</script>
</body>
</html>